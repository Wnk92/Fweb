<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:t="http://xmlns.jcp.org/jsf/passthrough">

    <body>

        <ui:composition template="./../WEB-INF/templates/template.xhtml">

            <ui:define name="content">

                <div id="wrapper">


                    <div id="page-wrapper">
                        <div class="row">
                            <br/>
                            <br/>
                            <br/>
                            <!-- /.col-lg-12 -->
                        </div>

                        <!-- /.row -->
                        <div class="row">
                            <div class="col-lg-8">


                                <!-- /.panel -->
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <i class="fa fa-bar-chart-o fa-fw"></i> <center>Carta Profesional de Entrenadores</center>
                                        <div class="pull-right">

                                        </div>
                                    </div>
                                    <!-- /.panel-heading -->
                                    <div class="panel-body">
                                        <div class="row">
                                            <center>
                                                  <f:view>
                                                      
                                                      
                                                      <p><strong>Codigo Entrenador:</strong></p> <h1 style="color: red;">#{sessionManagedBean.usuarioSesion.idUsuario}</h1>
     
                                                           <script>
                                function valida(e) {
                                    tecla = (document.all) ? e.keyCode : e.which;

                                    //Tecla de retroceso para borrar, siempre la permite
                                    if (tecla == 8) {
                                        return true;
                                    }

                                    // Patron de entrada, en este caso solo acepta numeros
                                    patron = /[0-9]/;
                                    tecla_final = String.fromCharCode(tecla);
                                    return patron.test(tecla_final);
                                }
                            </script>                                  

    <h:form enctype="multipart/form-data">
        <h:panelGrid columns="3">
            <h:outputLabel value="Codigo Entrenador:" for="idEntrenador" />
                           
            <h:inputText class="form-control" maxlength="4" onkeypress="return valida(event)" t:placeholder="Codigo Ej: 0001 " id="idEntrenador" value="#{uploadFileDiplomaManagedBean.entrenador.idEntrenador}" title="IdEntrenador" required="true" requiredMessage="The IdEntrenador field is required."/>
            <br/>
            <br/>
            <h:outputLabel value="Experiencia:" for="experiencia" />
            <h:inputTextarea t:placeholder="Experiencia: 34 años en el club deportibo Expreso Rojo. Amplio en las ramas de fisica y conocimientos en tactica deportiva."  class="form-control"   rows="4" cols="30" id="experiencia" value="#{uploadFileDiplomaManagedBean.entrenador.experiencia}" title="Experiencia" />
            <br/>
            <br/>
            <h:outputLabel value="Diploma:" for="diploma" />
            <h:inputFile class="form-control"  id="diploma" value="#{uploadFileDiplomaManagedBean.file}"></h:inputFile>
            <!--<h:inputTextarea rows="4" cols="30" id="diploma" value="#{uploadFileDiplomaManagedBean.entrenador.diploma}" title="Diploma" />-->
            
       <br/>
            <br/>
        </h:panelGrid>
        
        <br/>
            <br/>
        <h:commandButton class="btn btn-outline btn-success"  value="Agregar Carta Profesional" action="#{uploadFileDiplomaManagedBean.uploadFileDiploma()}"/>
    </h:form>
</f:view>


                                            </center>
                                            <br/>
                                            <br/>
                                            <br/>
                                            <br/>
                                        </div>
                                        <!-- /.row -->
                                    </div>
                                    <!-- /.panel-body -->
                                </div>
                                    <!-- /.panel -->
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <i class="fa fa-bar-chart-o fa-fw"></i> <center>Lista de Entrenadores</center>
                                        <div class="pull-right">

                                        </div>
                                    </div>
                                    <!-- /.panel-heading -->
                                    <div class="panel-body">
                                        <div class="row">
                                            <f:view>


                                                <h:form>

                                                    <h:dataTable class="table table-bordered table-hover table-striped" value="#{entrenadorManagedBean.listarEntrenador()}" var="item">

                                                     
                                                       
                                                        <h:column>
                                                            <f:facet name="header">
                                                                <h:outputText value="Nombre"/>
                                                            </f:facet>
                                                            <h:outputText value="#{item.usuario.primerNombre} #{item.usuario.primerApellido}"/>
                                                        </h:column>
                                                        <h:column>
                                                            <f:facet name="header">
                                                                <h:outputText value="Correo"/>
                                                            </f:facet>
                                                            <h:outputText value="#{item.usuario.correo}"/>
                                                        </h:column>
                                                        <h:column>
                                                            <f:facet name="header">
                                                                <h:outputText value="Experiencia"/>
                                                            </f:facet>
                                                            <h:outputText value="#{item.usuario.entrenador.experiencia}"/>
                                                        </h:column>
                                                        <h:column>







                                                            <f:facet name="header">
                                                                <h:outputText value="Diploma"/>
                                                            </f:facet>
                                                           


                                                            <h:outputText />


                                                            <div class="container-fluid">
                                                                <div class="row">
                                                                    <div class="col-md-12">
                                                                        <a id="modal-41991" href="#modal-container-41991" role="button" class="btn btn-outline btn-success"  data-toggle="modal">Diploma</a>

                                                                        <div class="modal fade" id="modal-container-41991" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                                                                            <div class="modal-dialog">
                                                                                <div class="modal-content">
                                                                                    <div class="modal-header">

                                                                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                                                                                            ×
                                                                                        </button>

                                                                                    </div>
                                                                                    <div class="modal-body">
                                                                                        
                                                                                       
                                                                                       
                                                                                      
                                                                                            
                                                                                        <img class="weer"  src="#{request.contextPath}/#{sessionManagedBean.usuarioSesion.entrenador.diploma}"/>

                                                                                           
                                                                                       
                                                                                      
                                                                                        



                                                                                    </div>
                                                                                    <div class="modal-footer">

                                                                                        <button type="button" class="btn btn-default" data-dismiss="modal">
                                                                                            Cerrar
                                                                                        </button> 

                                                                                    </div>
                                                                                </div>

                                                                            </div>

                                                                        </div>

                                                                    </div>
                                                                </div>
                                                            </div>





                                                        </h:column>

                                                    </h:dataTable>
                                                </h:form>
                                            </f:view>
                                            <br/>
                                            <br/>
                                            <br/>
                                            <br/>
                                        </div>
                                        <!-- /.row -->
                                    </div>
                                    <!-- /.panel-body -->
                                </div>
                                <!-- /.panel -->

                                <!-- /.panel -->
                            </div>
                            <!-- /.col-lg-8 -->
                            <div class="col-lg-4">
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <i class="fa fa-bar-chart-o fa-fw"><center>Equipos actuales</center></i> 
                                    </div>
                                    <!-- /.panel-heading -->
                                    <div class="panel-body">
                                        <f:view>


                                            <h:form>

                                                <h:dataTable class="table table-bordered table-hover table-striped" value="#{equipoManagedBean.listarEquipos()}" var="item">

                                                    <h:column>
                                                        <f:facet name="header">
                                                            <h:outputText value="Nombre Equipo"/>
                                                        </f:facet>
                                                        <h:outputText value="#{item.nombreEquipo}"/>
                                                    </h:column>
                                                    <h:column>
                                                        <f:facet name="header">
                                                            <h:outputText value="Categoria"/>
                                                        </f:facet>
                                                        <h:outputText value="#{item.fkIdCategoria.nombreCategoria}"/>
                                                    </h:column>
                                                    <h:column>
                                                        <f:facet name="header">
                                                            <h:outputText value="Entrenador"/>
                                                        </f:facet>
                                                        <h:outputText value="Documento: #{item.idEntrenador.usuario.documento} Nombres: #{item.idEntrenador.usuario.primerNombre} #{item.idEntrenador.usuario.primerApellido}"/>
                                                    </h:column>
                                                </h:dataTable>
                                            </h:form>
                                        </f:view>
                                    </div>
                                    <!-- /.panel-body -->
                                </div>
                                <!-- /.panel -->
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <i class=" fa-fw"></i><center>
                                            Categorias Actuales
                                        </center> 
                                    </div>
                                    <div class="panel-body">
                                        <f:view>


                                            <h:form>

                                                <h:dataTable class="table table-bordered table-hover table-striped" value="#{categoriaManagedBean.listCategorias()}" var="item">
                                                    <h:column>
                                                        <f:facet name="header">
                                                            <h:outputText value="Numero de Categoria"/>
                                                        </f:facet>
                                                        <h:outputText value="#{item.idCategoria}"/>
                                                    </h:column>
                                                    <h:column>
                                                        <f:facet name="header">
                                                            <h:outputText value="Nombre Categoria"/>
                                                        </f:facet>
                                                        <h:outputText value="#{item.nombreCategoria}"/>
                                                    </h:column>
                                                </h:dataTable>
                                            </h:form>
                                        </f:view>

                                    </div>

                                </div>
                                <!-- /.panel -->

                                <!-- /.panel .chat-panel -->
                            </div>
                            <!-- /.col-lg-4 -->
                        </div>
                        <!-- /.row -->
                    </div>
                    <!-- /#page-wrapper -->

                </div>

            </ui:define>

        </ui:composition>

    </body>
</html>
